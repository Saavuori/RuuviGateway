# MAC address to use as the gateway mac address
gw_mac: 00:00:00:00:00:00

# Whether to include all advertisements (true) or just those from RuuviTags (false)
all_advertisements: false

# HCI device index for the bluetooth adapter to use. 0 by default, which should correspond to the hci0 device
hci_index: 0

# Enable mock scanner (generates fake RuuviTag data) - useful for testing on non-Linux systems
use_mock: false

# Publish the data to MQTT in Ruuvi Gateway format
mqtt:
  # Flag to enable or disable publishing the data to a MQTT server
  enabled: false
  # MQTT broker url, including scheme (tcp, ssl or ws), hostname or IP address, and port
  broker_url: tcp://ip.or.hostname:1883
  client_id: ruuvi-go-gateway
  username: ruuvigogateway
  password: ruuvipassword
  # Topic prefix where to publish, in format <topic_prefix>/<mac>
  topic_prefix: ruuvi
  # Topic where to publish LWT "status messages" on connect/disconnect. Empty means disabled.
  # The default value for this is <topic_prefix>/gw_status which matches the behavior of the physical Ruuvi Gateway
  #lwt_topic: ""
  # Payload that will be published to lwt_topic when ruuvi-go-gateway connects
  lwt_online_payload: '{"state":"online"}'
  # Payload that will be published to lwt_topic when ruuvi-go-gateway disconnects
  lwt_offline_payload: '{"state":"offline"}'
  # Whether to send decoded JSON (true) or raw Ruuvi Gateway format (false)
  send_decoded: false

# Publish the data by sending HTTP POSTs in Ruuvi Gateway format
http:
  # Flag to enable or disable publishing the data to a MQTT server
  enabled: false
  # URL including scheme and hostname or ip, and optionally a port and a subpath
  url: http://ip.or.hostname:8080/record
  # Interval for sending measurements. Accepts values in go duration format ( https://pkg.go.dev/time#ParseDuration ), for example 1m30s
  interval: 10s
  username: ruuvigogateway
  password: ruuvipassword

# Logging options for ruuvi-go-gateway itself
logging:
  # Type can be either "structured", "json" or "simple"
  type: simple
  # Valid logging levels from most verbose to least verbose: trace, debug, info, warn, error, fatal, panic
  level: info
  # Include timestamp in the log line. Can be useful to turn off with certain logging systems which add their own timestamps
  timestamps: true
  # Whether to include the log caller in the logs. This will increase the size of logs but it helps in troubleshooting in some cases
  with_caller: false

# -----------------------------------------------------------------------------------
# RuuviBridge Data Sinks (Advanced Processing & Integration)
# -----------------------------------------------------------------------------------

# Publish processed measurements to MQTT (JSON format)
mqtt_publisher:
  enabled: false
  broker_url: tcp://localhost:1883
  topic_prefix: ruuvi_measurements
  client_id: ruuvi-bridge-publisher
  username: user
  password: password
  # Minimum interval between updates for a specific tag to reduce traffic
  minimum_interval: 1s
  # Discovery prefix for Home Assistant (empty to disable)
  homeassistant_discovery_prefix: homeassistant

# Publish processed measurements to InfluxDB v2
influxdb_publisher:
  enabled: false
  url: http://localhost:8086
  auth_token: my-token
  org: my-org
  bucket: ruuvi
  measurement: ruuvi_measurements
  minimum_interval: 1s

# Publish processed measurements to InfluxDB v3 (InfluxDB Cloud)
influxdb3_publisher:
  enabled: false
  url: https://us-east-1-1.aws.cloud2.influxdata.com
  auth_token: my-token
  database: ruuvi
  measurement: ruuvi_measurements
  minimum_interval: 1s

# Expose processed measurements as Prometheus metrics
prometheus:
  enabled: false
  port: 8081
  measurement_metric_prefix: ruuvi
